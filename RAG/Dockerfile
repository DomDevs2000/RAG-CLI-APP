FROM openjdk:21
EXPOSE 8080
ARG SPRING_AI_OPENAI_API_KEY
ARG SPRING_DATASOURCE_PASSWORD
ENV SPRING_AI_OPENAI_API_KEY=$SPRING_AI_OPENAI_API_KEY
ENV SPRING_DATASOURCE_PASSWORD=$SPRING_DATASOURCE_PASSWORD
RUN echo $SPRING_AI_OPENAI_API_KEY
RUN echo $SPRING_DATASOURCE_PASSWORD
ENTRYPOINT ["java", "-jar", "RAG-0.0.1-SNAPSHOT.jar"]
ADD target/RAG-0.0.1-SNAPSHOT.jar RAG-0.0.1-SNAPSHOT.jar


# docker build --build-arg SPRING_AI_OPENAI_API_KEY=$OPENAI_API_KEY --build-arg SPRING_DATASOURCE_PASSWORD=$POSTGRES_PASS -t rag-api . 

